# MySoulLinker - 我的深度社交系统 实现计划

## 项目结构

```
WeChatTagTools/
├── app.py                 # Flask主应用
├── config.py              # 配置文件
├── requirements.txt       # Python依赖
├── database/
│   └── social.db          # SQLite数据库
├── static/
│   ├── css/
│   │   ├── style.css      # 主样式
│   │   └── dashboard.css  # 可视化页面样式
│   ├── js/
│   │   ├── app.js         # 主应用逻辑
│   │   ├── labeling.js    # 打标交互逻辑
│   │   ├── chart-init.js  # 图表初始化
│   │   └── export.js      # 导出功能
│   └── lib/
│       ├── echarts.min.js
│       └── html2canvas.min.js
├── templates/
│   ├── base.html          # 基础模板
│   ├── index.html         # 联系人列表
│   ├── labeling.html      # 聊天记录打标页面
│   ├── profile.html       # 个人详情页
│   └── export.html        # 导出页面
└── utils/
    ├── __init__.py
    ├── db.py              # 数据库操作
    ├── ai.py              # AI分析模块
    └── exporter.py        # 导出模块
```

## 实现阶段

### 阶段1：基础架构搭建

1. 创建Flask项目结构和配置文件
2. 设计SQLite数据库结构（contacts、chat\_logs、analysis\_results表）
3. 实现数据库初始化和基础CRUD操作

### 阶段2：聊天记录打标模块

1. 创建联系人管理功能（新建、编辑、删除）
2. 实现文本粘贴区和多行解析
3. 开发交互式打标界面（点击切换用户身份、批量操作）
4. 实现日期选择和提交功能

### 阶段3：AI分析引擎

1. 集成火山方舟豆包API
2. 设计AI Prompt模板（包含四个分析维度）
3. 实现聊天记录分析和JSON解析
4. 存储和分析结果展示

### 阶段4：可视化展示模块

1. 开发联系人列表页面（卡片式展示）
2. 实现个人详情页（雷达图、词云、相处指南）
3. 集成ECharts实现雷达图
4. 实现词云图展示

### 阶段5：导出功能

1. 实现数据导出（Excel/CSV格式）
2. 开发可视化海报生成（html2canvas）
3. 导出原始数据和AI分析结果

## 核心功能流程

1. 新建联系人 → 粘贴聊天记录 → 交互式打标 → 设置日期 → 提交
2. 选择联系人 → 调用AI分析 → 查看分析结果 → 导出报告

## 第三方依赖

* Flask, Flask-SQLAlchemy

* pandas, openpyxl

* requests (API调用)

* 火山方舟SDK（如有）

\
**MySoulLinker-我的深度社交系统**

### **1.项目概述：**

我们每个人的生活中都会遇到各种各样的人，每个人也都有不同的特点，以及和我们相处中有不同的注意事项，以及每个人的星座，生日，mbti等性格信息，但在这个信息爆炸的时代我们可能偶尔会忘记。

所以基于此，我想要做一个个人社交系统，通过复制自己和对方微信聊天记录的方式，经自己手动处理不带用户名和日期的聊天记录原始数据，来向系统输入相应的信息，经过自己手动添加用户名和日期信息后，将信息存储到后端数据库中。

并且可将整理好的聊天记录上传给ai进行分析总结两个人的性格，喜好，相处过程中的注意事项等这些结构化的的数据分析结果，并储存到后端数据库中，方便日后进行导出和可视化展示。

还会有一个可视化展示界面展示AI分析总结的内容，展示我所遇到的人，每个人的特点，等信息，支持导出成多种格式，也支持导出成可视化海报。

### **2.技术栈**

我想要用前端HTML+后端pythonFlask+SQLlite来实现。

大语言模型目前想要基于火山方舟的豆包seed1.8大语言模型来实现。

### **3.一些功能实现说明：**

* 因为数据获取只能采用PC端微信手动复制聊天记录的方法，所以复制到的内容只有两个人的聊天记录，需要自己进行打标处理。

  注意！这是微信4.0更新之后新增的功能限制，不管是群聊还是个人的聊天记录复制出来的数据都只能是这个样子
  ```
  你好呀
  你好，吃饭了吗？
  我还没，你吃了吗？
  我也没吃
  刚好附近有一家挺不错的餐馆，一块去吃吧
  ```
  所以这一块的功能需要自己开发一种实现方式，我目前构想的实现方式是，将复制得到的多行聊天记录文本用粘贴/导入多行聊天记录txt文件的方式导入系统，然后自己来进行手动分配用户名，手动设置聊天记录发生的日期或者日期范围（因为导入的长段聊天记录具有时间跨度属性），在打标上我希望是选中用户后点击聊天记录条目可变成这个用户的颜色，这样方便区分。
* 关于AI分析部分，这块是这个系统的核心功能实现，我预想的是定义一个数据模板，让AI返回数据模板中的结果， 关于此内容我放到附录作为一个多维分析参考，具体见\[附录]性格分析维度参考。
* 关于数据展示，也就是将AI分析的内容展示出来，我希望能够有一个界面可以展示我已经遇到的人，以及每个人的各种特点可视化的展现出来，并且每个人都可以导出相应的聊天原始数据，AI分析原始数据，以及HTML可视化数据报表。

### **4.核心功能实现**

##### **1. 数据导入与清洗模块 (The "Labeling" System)**

这是你提到的痛点解决方案。

* 功能流程：
  1. &#x20;**新建/选择联系人**：开始导入前，必须指定这段话是和谁聊的。
  2. &#x20;**文本粘贴区**：一个大的文本框，粘贴微信复制出来的纯文本。
  3. 交互式打标界面 (关键创新点)：
     * 系统将文本按行分割，渲染成列表。
     * **默认状态**：所有行默认为“对方”。
     * **点击交互**：点击某一行，该行背景变色（如变绿），状态切换为“我”。
     * **批量操作**：提供“全选”、“反选”或“按规律交替”（如果聊天记录是一问一答形式）的辅助按钮。
  4. &#x20;**元数据补充**：手动选择这段对话发生的日期（DatePicker）。
  5. &#x20;**提交入库**：后端接收清洗后的结构化数据（Who, When, What）存入 `ChatLogs` 表。

##### **2. AI 分析引擎模块 (The "Brain")**

基于火山方舟豆包模型。

* Prompt 工程设计：
  * **输入**：从数据库拉取某联系人的所有聊天记录，按时间顺序拼接。
  * **指令**：编写一个强力的 System Prompt，包含你附录中的四个维度（核心特质、行为偏好、社交互动、认知思维）。
  * **输出格式**：强制要求 AI 返回 **JSON 格式**，以便前端可视化。
  * 示例 Prompt 片段：
    > "你是一个心理分析师。请根据以下聊天记录，分析用户的性格。请严格按照JSON格式返回，不要包含Markdown标记。JSON结构需包含：{ 'traits': {'rationality': '...', 'introversion': '...'}, 'interests': \[...], 'dos\_and\_donts': \[...] }"
* **API 对接**：Python Flask 后端调用豆包 API，处理 Token 限制（如果聊天记录过长，可能需要分段摘要或使用长上下文模型）。

##### **3. 可视化与展示模块 (The "Dashboard")**

前端 HTML + CSS + JS (推荐使用 ECharts 或 Chart.js)。

* **联系人列表页**：卡片式展示，显示头像、姓名、AI生成的一句话标签（如：“理性的技术宅”）。
* 个人详情页 (Soul Profile)：
  * **雷达图**：展示性格维度（理性vs感性，内向vs外向等）。
  * **词云图**：展示高频话题和兴趣（基于AI提取的关键词）。
  * **相处指南卡片**：高亮显示 AI 总结的“注意事项”和“雷区”。
  * **原始对话流**：像微信一样的界面回顾历史聊天。

##### **4. 导出与报告模块**

* **数据导出**：Python Pandas 生成 Excel/CSV，包含原始聊天记录。
* 可视化海报：
  * 利用 `html2canvas` 库，将前端的分析结果（雷达图、总结文字）截图生成一张精美的图片，方便保存分享。

### **\[附录]性格分析维度参考：**

#### **一、 核心特质维度**

这是判断一个人底层性格的关键，通过聊天记录的**言行逻辑和应对态度**推导，比星座、生日等标签更具参考性

1. 人格倾向
   * 理性 / 感性：遇到问题时，是优先讲逻辑、给解决方案，还是先共情情绪、表达感受
   * 内向 / 外向：聊天中是主动分享生活细节、需要他人反馈，还是更倾向倾听、仅在熟悉话题上展开
   * 计划性 / 随性：聊到行程、任务时，是习惯提前规划，还是更偏好 “随机应变”
2. 处事风格
   * 责任态度：聊到承诺或任务时，是明确回应、主动跟进，还是模糊回避、拖延应付
   * 抗压能力：遇到麻烦事时，是抱怨吐槽、消极摆烂，还是冷静分析、聚焦解决
   * 决策模式：做选择时，是纠结犹豫、需要他人建议，还是果断直接、有明确主见

#### **二、 行为偏好维度**

这是最容易从聊天记录中提取的信息，直接反映一个人的生活重心和兴趣方向

1. 兴趣爱好与关注领域
   * 高频话题：反复提到的内容（比如技术、游戏、美食、追剧、运动、学术研究等）
   * 投入程度：是浅尝辄止的 “随口一提”，还是能深入聊细节（比如聊嵌入式项目会说调试难点，聊游戏会分析机制）
2. 明确的喜恶倾向
   * 正向偏好：提到时语气积极、愿意延伸的事物（比如 “这个开源工具用着太顺手了”）
   * 反向排斥：提到时语气负面、明确回避的事物（比如 “最烦写重复的配置代码”）
3. 生活习惯细节
   * 作息节奏：聊天的高频时间段（是早睡早起还是熬夜党）
   * 消费观念：聊到购物、付费内容时，是更看重性价比还是品质
   * 信息获取方式：喜欢刷短视频、看论文，还是听播客、逛论坛

#### **三、 社交互动维度**

从聊天的**互动模式**判断一个人的社交偏好和边界感，适合分析人际关系中的角色

1. 沟通习惯
   * 主动 / 被动：是经常主动发起话题，还是只在被找时回应
   * 表达风格：说话直爽直接，还是委婉含蓄；喜欢用表情包 / 梗，还是偏向严肃书面语
   * 反馈效率：回复速度、字数多少，是否会主动延续话题
2. 互动态度
   * 共情能力：当你分享情绪时，是敷衍回应，还是能精准捕捉你的感受并给予反馈
   * 分享欲：是否愿意主动聊自己的经历、想法，还是更习惯倾听他人
   * 边界感：是否会过度打探隐私，还是尊重他人的 “不分享”，聊天尺度是否得体
3. 协作倾向
   * 聊到共同任务时，是主动承担分工，还是习惯性依赖他人
   * 意见分歧时，是坚持己见，还是愿意妥协、换位思考

#### **四、 认知思维维度**

这是较深层的分析角度，通过聊天的**内容深度和观点表达**判断，适合分析学习、工作中的思维模式

1. 知识储备与视野
   * 话题深度：聊专业内容时，是停留在表面概念，还是能讲底层原理、实际应用
   * 知识面广度：是否能在多个领域（技术、人文、时事等）都有自己的见解
2. 价值观取向
   * 对关键话题的态度：比如聊到工作、学习时，更看重成就感还是稳定；聊到团队合作时，更看重效率还是氛围
   * 底线原则：提到某些行为时，是否会明确表达 “不能接受” 的底线

#### **注意事项**

1. 避免**标签化过度解读**：星座、生日只能作为参考，不能替代聊天记录中体现的真实言行
2. 结合**场景一致性**：同一个人在不同对象（朋友 / 长辈 / 同事）面前的聊天风格可能不同，尽量参考多场景的聊天记录
3. 区分 **“说” 与 “做”**：聊天中表达的偏好（比如 “我喜欢编程”），需要结合实际行为（比如是否经常分享代码、做项目）来验证

